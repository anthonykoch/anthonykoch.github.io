<!doctype html>
<html data-n-head-ssr data-n-head="">
  <head>
    <title data-n-head="true">Why you shouldn't loop arrays with for-in</title><meta data-n-head="true" charset="utf-8"><meta data-n-head="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="true" data-hid="description" name="description" content="Freelance front-end web developer producing high quality work with an exceptional eye for detail. Mentor. Lover of JavaScript."><meta data-n-head="true" http-equiv="X-UA-Compatible" content="IE=edge"><meta data-n-head="true" name="robots" content="index,follow"><link data-n-head="true" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="true" rel="stylesheet" href="https://use.typekit.net/nsr0hmh.css"><link data-n-head="true" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"><script data-n-head="true" async src="//assets.codepen.io/assets/embed/ei.js"></script><link rel="preload" href="/_nuxt/fb0edb8507785c3f920b.js" as="script"><link rel="preload" href="/_nuxt/939af23866584e38578e.js" as="script"><link rel="preload" href="/_nuxt/618ef3dd2a507e0bd94f.js" as="script"><link rel="preload" href="/_nuxt/c2b0ed7da60d58287e2b.css" as="style"><link rel="preload" href="/_nuxt/33e2ccdd4d1bd71f9ba2.js" as="script"><link rel="preload" href="/_nuxt/e77860e6bbac41e8990e.js" as="script"><link rel="preload" href="/_nuxt/c2b0ed7da60d58287e2b.css" as="style"><link rel="stylesheet" href="/_nuxt/c2b0ed7da60d58287e2b.css"><link rel="stylesheet" href="/_nuxt/0e4338761429b4eb16ac.css"><link rel="stylesheet" href="/_nuxt/86a40c57a582459016dc.css">
  </head>
  <body data-n-head="">
    <div data-server-rendered="true" id="__nuxt"><div id="__layout"><div class="Page"><div><div class="Overlay is-light" style="display:none"><div><div tabindex="0"></div> <div tabindex="1"></div> <div data-lock=""><button class="Overlay-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"></path></svg></button> <div style="overflow:auto"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt="" class="Image is-fullscreen" style="display:none"></div></div> <div tabindex="0"></div></div></div></div> <div class="BlogToolbar"><div style="display:none"><div></div> <div><button title="Back to top" class="BlogToolbar-backToTop BlogToolbar-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 205 328"><path d="M195.7 94.8c-3.1 3.1-8 3-11.3 0L110 28.4V313c0 4.4-3.6 8-8 8s-8-3.6-8-8V28.4L19.6 94.7c-3.4 2.9-8.1 3.2-11.2.1-3.1-3.1-3.3-8.5-.1-11.4 0 0 87-79.2 88-80S99.1 1 102 1s4.9 1.6 5.7 2.4 88 80 88 80c1.5 1.5 2.3 3.6 2.3 5.7s-.8 4.1-2.3 5.7z"></path></svg></button></div></div></div> <div class="Sidebar"><div class="Sidebar-inner"><a href="/blog/medium-style-images" class="SidebarButton u-mb3"><span class="SidebarButton-upper">Next:</span> <span class="SidebarButton-lower">Medium style image loading</span></a> <a href="/blog/remember-directories-in-con-emu" class="SidebarButton u-mb3"><span class="SidebarButton-upper">Previous:</span> <span class="SidebarButton-lower">Remember directories in Con Emu</span></a> <div class="Sidebar-footer u-textCenter"><!----> <ul class="IconList"><li class="IconList-item"><a href="http://codepen.io/anthonykoch" title="Codepen" class="IconList-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M241.239 303.936c-15.322-10.357-30.742-20.569-46.062-30.93-2.03-1.373-3.43-1.472-5.502-.029l-38.871 26.154C181.966 319.905 244 361.317 244 361.317v-53.786c-.012-1.224-1.553-2.78-2.761-3.595zM195.092 240.666c15.454-10.16 30.851-20.409 46.109-30.86 1.486-1.018 2.775-3.509 2.799-5.334v-51.706s-62.033 41.124-93.262 61.942c13.7 9.159 26.671 17.913 39.787 26.443 1.02.662 3.396.284 4.567-.485zM269.838 209.354a4521.517 4521.517 0 0 0 47.627 31.815c.916.604 2.92.602 3.839 0l39.751-26.467L268 152.484v53.35c.01 1.201.805 2.821 1.838 3.52zM258.109 230.369c-1.21-.802-3.611-.528-4.743.168-4.817 2.962-9.463 6.203-14.164 9.355-8.248 5.53-25.356 17.023-25.356 17.023l38.842 25.865c1.748 1.157 4.436 1.22 6.26.111l39.014-25.993c.001 0-34.079-22.701-39.853-26.529zM141 237.116v39.609l29.622-19.838z"></path><path d="M256 32C132.288 32 32 132.288 32 256s100.288 224 224 224 224-100.288 224-224S379.712 32 256 32zm139 265.006c0 5.785-2.652 9.868-7.511 13.094a38019.909 38019.909 0 0 0-123.286 82.188c-5.854 3.918-11.174 3.754-16.984-.137-40.783-27.314-81.719-54.546-122.625-81.676-5.11-3.389-7.594-7.557-7.594-13.73v-79.729c0-6.141 2.521-10.332 7.624-13.716 40.906-27.13 81.939-54.363 122.724-81.676 5.818-3.896 11.094-4.007 16.938-.095a41090.004 41090.004 0 0 0 123.261 82.195c4.678 3.106 7.453 6.943 7.453 12.66v80.622z"></path><path d="M316.247 273.234a3826.352 3826.352 0 0 1-45.386 30.332c-2.412 1.588-2.888 3.318-2.861 6.189v51.346l93.039-62.004-38.527-25.882c-2.345-1.604-3.93-1.567-6.265.019zM370 276.676V237.06l-29.59 19.873z"></path></svg></a></li> <li class="IconList-item"><a href="https://github.com/anthonykoch" title="Github" class="IconList-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M178.354,287.478c-9.123,0-16.928,4.207-23.201,12.833c-6.291,8.478-9.398,18.973-9.398,31.431 c0,12.474,3.166,23.008,9.398,31.509c6.273,8.54,14.039,12.771,23.201,12.771c8.494,0,15.889-4.27,22.121-12.771 c6.271-8.501,9.398-19.035,9.398-31.509c0-12.419-3.166-22.93-9.398-31.431C194.242,291.724,186.908,287.478,178.354,287.478z"></path> <path d="M334.668,287.478c-9.045,0-16.891,4.207-23.182,12.833c-6.271,8.478-9.359,18.973-9.359,31.431 c0,12.474,3.186,23.008,9.359,31.509c6.291,8.54,14.098,12.771,23.182,12.771c8.533,0,15.906-4.27,22.178-12.771 c6.293-8.501,9.418-19.035,9.418-31.509c0-12.419-3.164-22.93-9.418-31.431C350.574,291.724,343.299,287.478,334.668,287.478z"></path> <path d="M445.777,172h-0.059c0,0,2.793-14.264,0.314-39.18c-2.182-24.916-7.471-47.838-16.123-68.82 c0,0-4.422,0.76-12.76,2.896s-22.08,6.299-40.938,14.768c-18.541,8.54-37.986,19.788-58.297,33.505 c-13.803-3.934-34.408-5.939-61.994-5.939c-26.289,0-46.914,2.012-61.977,5.945c-44.592-30.859-81.832-47.945-112.092-51.175 c-8.594,20.982-13.883,43.991-16.045,68.97c-2.398,24.939,0.432,39.329,0.432,39.329C41.979,198.551,32,236.541,32,267.793 c0,24.244,0.658,46.078,6.125,65.48c5.564,19.31,12.662,35.13,21.098,47.221c8.611,12.121,19.012,22.788,31.576,31.938 c12.467,9.314,23.988,15.962,34.389,20.216c10.461,4.372,22.375,7.602,35.982,9.861c13.33,2.386,23.438,3.645,30.477,3.996 c0,0,28,1.494,64.354,1.494c36.354,0,64.295-1.494,64.295-1.494c7.02-0.352,17.145-1.634,30.535-3.996 c13.547-2.299,25.521-5.607,35.941-9.861c10.402-4.293,21.943-10.901,34.469-20.216c12.523-9.032,22.906-19.739,31.518-31.938 c8.436-12.091,15.494-27.911,21.098-47.221c5.486-19.402,6.145-41.385,6.145-65.629C480,237.389,469.982,199,445.777,172z M380.383,405.645C352.521,418.736,311.486,424,257.061,424l-2.143-0.039c-54.443,0-95.361-5.248-122.848-18.41 c-27.508-13.092-41.271-40.057-41.271-80.738c0-24.33,8.572-43.99,25.482-59.107c7.354-6.515,16.438-11.019,27.645-13.717 c11.129-2.558,21.354-2.762,30.969-2.465c9.398,0.415,22.551,2.196,39.344,3.464C231.029,254.285,243.535,256,256,256 c11.698,0,27.213-1.957,52.104-3.959c24.99-1.971,43.494-2.971,55.467-1c12.289,2.002,22.986,6.202,32.129,14.742 c17.734,15.751,26.602,35.505,26.602,59.084C422.301,365.533,408.164,392.537,380.383,405.645z"></path></svg></a></li> <li class="IconList-item"><a href="https://twitter.com/anthkoch" title="Twitter" class="IconList-link"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M492 109.5c-17.4 7.7-36 12.9-55.6 15.3 20-12 35.4-31 42.6-53.6-18.7 11.1-39.4 19.2-61.5 23.5C399.8 75.8 374.6 64 346.8 64c-53.5 0-96.8 43.4-96.8 96.9 0 7.6.8 15 2.5 22.1-80.5-4-151.9-42.6-199.6-101.3-8.3 14.3-13.1 31-13.1 48.7 0 33.6 17.2 63.3 43.2 80.7-16-.4-31-4.8-44-12.1v1.2c0 47 33.4 86.1 77.7 95-8.1 2.2-16.7 3.4-25.5 3.4-6.2 0-12.3-.6-18.2-1.8 12.3 38.5 48.1 66.5 90.5 67.3-33.1 26-74.9 41.5-120.3 41.5-7.8 0-15.5-.5-23.1-1.4C62.8 432 113.7 448 168.3 448 346.6 448 444 300.3 444 172.2c0-4.2-.1-8.4-.3-12.5C462.6 146 479 129 492 109.5z"></path></svg></a></li></ul></div></div></div> <div class="Page-inner"><div><header role="banner" data-page="TODO" class="SiteHeader has-blogBackground is-collapsed"><div class="SiteHeader-container"><div class="Logo"><a href="/" class="Logo-link u-px6 is-dark is-fixed is-active"><span>Anthony </span> <span>Koch</span></a></div> <nav role="navigation" class="SiteNav"><ul class="SiteNav-list"><li class="SiteNav-listItem"><a href="/#work" class="SiteNav-link is-dark">
            work
          </a></li><li class="SiteNav-listItem"><a href="/blog" class="SiteNav-link is-dark">
            blog
          </a></li><li class="SiteNav-listItem"><a href="/contact" class="SiteNav-link is-dark">
            contact
          </a></li> <li class="SiteNav-listItem has-icon"><a href="https://github.com/anthonykoch?tab=repositories" target="_blank" rel="noopener noreferrer" class="SiteNav-iconLink is-github is-dark"><svg fill="rgba(255,255,255,0.8)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M178.354,287.478c-9.123,0-16.928,4.207-23.201,12.833c-6.291,8.478-9.398,18.973-9.398,31.431 c0,12.474,3.166,23.008,9.398,31.509c6.273,8.54,14.039,12.771,23.201,12.771c8.494,0,15.889-4.27,22.121-12.771 c6.271-8.501,9.398-19.035,9.398-31.509c0-12.419-3.166-22.93-9.398-31.431C194.242,291.724,186.908,287.478,178.354,287.478z"></path> <path d="M334.668,287.478c-9.045,0-16.891,4.207-23.182,12.833c-6.271,8.478-9.359,18.973-9.359,31.431 c0,12.474,3.186,23.008,9.359,31.509c6.291,8.54,14.098,12.771,23.182,12.771c8.533,0,15.906-4.27,22.178-12.771 c6.293-8.501,9.418-19.035,9.418-31.509c0-12.419-3.164-22.93-9.418-31.431C350.574,291.724,343.299,287.478,334.668,287.478z"></path> <path d="M445.777,172h-0.059c0,0,2.793-14.264,0.314-39.18c-2.182-24.916-7.471-47.838-16.123-68.82 c0,0-4.422,0.76-12.76,2.896s-22.08,6.299-40.938,14.768c-18.541,8.54-37.986,19.788-58.297,33.505 c-13.803-3.934-34.408-5.939-61.994-5.939c-26.289,0-46.914,2.012-61.977,5.945c-44.592-30.859-81.832-47.945-112.092-51.175 c-8.594,20.982-13.883,43.991-16.045,68.97c-2.398,24.939,0.432,39.329,0.432,39.329C41.979,198.551,32,236.541,32,267.793 c0,24.244,0.658,46.078,6.125,65.48c5.564,19.31,12.662,35.13,21.098,47.221c8.611,12.121,19.012,22.788,31.576,31.938 c12.467,9.314,23.988,15.962,34.389,20.216c10.461,4.372,22.375,7.602,35.982,9.861c13.33,2.386,23.438,3.645,30.477,3.996 c0,0,28,1.494,64.354,1.494c36.354,0,64.295-1.494,64.295-1.494c7.02-0.352,17.145-1.634,30.535-3.996 c13.547-2.299,25.521-5.607,35.941-9.861c10.402-4.293,21.943-10.901,34.469-20.216c12.523-9.032,22.906-19.739,31.518-31.938 c8.436-12.091,15.494-27.911,21.098-47.221c5.486-19.402,6.145-41.385,6.145-65.629C480,237.389,469.982,199,445.777,172z M380.383,405.645C352.521,418.736,311.486,424,257.061,424l-2.143-0.039c-54.443,0-95.361-5.248-122.848-18.41 c-27.508-13.092-41.271-40.057-41.271-80.738c0-24.33,8.572-43.99,25.482-59.107c7.354-6.515,16.438-11.019,27.645-13.717 c11.129-2.558,21.354-2.762,30.969-2.465c9.398,0.415,22.551,2.196,39.344,3.464C231.029,254.285,243.535,256,256,256 c11.698,0,27.213-1.957,52.104-3.959c24.99-1.971,43.494-2.971,55.467-1c12.289,2.002,22.986,6.202,32.129,14.742 c17.734,15.751,26.602,35.505,26.602,59.084C422.301,365.533,408.164,392.537,380.383,405.645z"></path></svg></a></li></ul></nav></div> <div class="SiteHeader-lower"></div></header> <div class="Page-content has-sidebar">  <article id="post" class="Post"><div class="Post__container"><header class="Post-header u-gutter"><div class="u-sizeReadable u-mxauto"><h1 class="Post-title"><a href="/blog/why-you-shouldnt-loop-arrays-with-for-in" class="Link is-dark">
                Why you shouldn't loop arrays with for-in
              </a></h1> <p class="PostMeta"><span class="PostMeta-date">
              December, 2 2015
            </span> <span class="PostMeta-author">
              by Anthony Koch
            </span></p></div></header> <div><div class="Post-body md" style="animation-delay:.3s"><p>I had a friend ask me why you shouldn't iterate over arrays with a for-in loop, since after all, when he tried it everything worked as expected. Well, the reasoning for why you shouldn't do this is not immediately apparent, especially if you do not understand how property lookup and prototypes work.</p>
<!-- endexcerpt -->
<h3 id="what-does-a-for-in-loop-do">What does a for-in loop do?</h3>
<p>A for-in loop enumerates over an object's properties, including the properties in the object's prototype chain. Arrays are a type of object, exhibiting the same characteristics as objects, but with extended functionality. Array indices are properties, which is why they are enumerated in for-in loops.</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) {
  <span class="hljs-comment">// Would log 0, 1, 2</span>
  <span class="hljs-built_in">console</span>.log(key);
}
</code></pre>
<p>If you enter the above code into the console, it will log <code>0</code>, <code>1</code>, and <code>2</code>, which are the indices of the items in the array. So, what's the issue? Well, let's just say we wanted to include a polyfill in our script that implements some cool, new upcoming feature for arrays and that the method is called <code>coolMethod</code>. Here comes the issue, since a for-in loop enumerates over an object's properties, and includes the object's prototype chain in the enumeration, we would find that <code>coolMethod</code> would also be logged to the console along with the indices of the array.</p>
<pre class="hljs"><code><span class="hljs-built_in">Array</span>.prototype.coolMethod = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">// coolMethod polyfill</span>
};

<span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) {
  <span class="hljs-comment">// Would log 0, 1, 2, 'coolMethod'</span>
  <span class="hljs-built_in">console</span>.log(key);
}
</code></pre>
<p>You could technically get around this by using <code>Object.defineProperty</code> to define <code>coolMethod</code> as non-enumerable, but you can't ensure every library you're using will do this.</p>
<p>Now, here's something that may blow your mind if you aren't familiar with the way JavaScript prototypes work. We don't even have to set <code>coolMethod</code> on <code>Array.prototype</code>. Since the prototype chain of an array leads back to <code>Object.prototype</code>, we can set <code>coolMethod</code> on <code>Object.prototype</code> and have it show up in the for-in enumeration of the array.</p>
<pre class="hljs"><code><span class="hljs-built_in">Object</span>.prototype.coolMethod = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

<span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) {
  <span class="hljs-comment">// Would log 0, 1, 2, 'coolMethod'</span>
  <span class="hljs-built_in">console</span>.log(key);
}
</code></pre>
<h3 id="alternatives">Alternatives</h3>
<p>Either use a for-loop, or even better, use the built-in Array methods such as <code>.forEach</code>, <code>.map</code>, <code>.filter</code> and <code>.reduce</code>. I personally like the Array methods since they're a lot cleaner looking. A while loop could also be used, and can not only be useful for iterating an array forwards, but also backwards. It's also possible to iterate an array backwards with a regular for-loop, but the syntax is a little bit cleaner with a while loop.</p>
<pre class="hljs"><code><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];

<span class="hljs-comment">// for loop</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
  <span class="hljs-keyword">var</span> item = arr[i];
}

<span class="hljs-comment">// backwards iteration with a for loop</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = arr.length; i >= <span class="hljs-number">0</span>; i--) {
  <span class="hljs-keyword">var</span> item = arr[i];
}

<span class="hljs-comment">// Backwards iteration with a while loop</span>
<span class="hljs-keyword">var</span> i = arr.length;
<span class="hljs-keyword">while</span> (i--) {
  <span class="hljs-keyword">var</span> item = arr[i];
}

arr.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
  <span class="hljs-built_in">console</span>.log(item);
});

<span class="hljs-keyword">var</span> newArr = arr.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
  <span class="hljs-keyword">return</span> item * <span class="hljs-number">2</span>;
});
<span class="hljs-built_in">console</span>.log(newArr); <span class="hljs-comment">// [2, 4, 6]</span>

<span class="hljs-keyword">var</span> newArr = arr.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
  <span class="hljs-keyword">return</span> item !== <span class="hljs-number">1</span>;
});
<span class="hljs-built_in">console</span>.log(newArr); <span class="hljs-comment">// [2, 3]</span>
</code></pre>
<p>Map and filter are useful because they reduce the boilerplate that you would have to set up with a for-loop or a while loop to accomplish the same task. You don't have to create a new array yourself, write an if statement to filter, or manually add or remove elements. For example, with filter you just pass a callback function that returns true for the elements you want to keep, and returns false for the elements of the array you want to remove. There's no need to create a new array, write an if statement for filtering, or manually adding to the new array with <code>.push</code>, it's all done in the background.</p>
<h3 id="conclusion">Conclusion</h3>
<p>I'm sure there are even more reasons why for-in loops shouldn't be used for looping over arrays, but this is just a few I know. Just don't do it, leave the for-in loops for plain objects.</p>
<h3 id="further-reading">Further Reading</h3>
<p><a href="http://www.2ality.com/2012/12/arrays.html">2ality - Arrays</a></p>
</div></div></div></article></div> <!----></div></div> </div></div></div><script>window.__NUXT__=function(e,a,t,s,o,n,r,l,i,c,h,p,d,u,m,y,f,w,g,b,j,k,v,A,x,_,I,z){return{layout:"default",data:[{post:{excerpt:{content:m,loc:{start:0,end:308}},author:e,title:_,tags:[o,r],id:4,created_at:i,humanized:{created_at:c},url:h,slug:p,next:{url:d,author:e,title:u,tags:[n,y,f],id:5,created_at:g},previous:{url:b,author:e,title:j,tags:[k,v],id:3,created_at:x},contents:'<p>I had a friend ask me why you shouldn\'t iterate over arrays with a for-in loop, since after all, when he tried it everything worked as expected. Well, the reasoning for why you shouldn\'t do this is not immediately apparent, especially if you do not understand how property lookup and prototypes work.</p>\n\x3c!-- endexcerpt --\x3e\n<h3 id="what-does-a-for-in-loop-do">What does a for-in loop do?</h3>\n<p>A for-in loop enumerates over an object\'s properties, including the properties in the object\'s prototype chain. Arrays are a type of object, exhibiting the same characteristics as objects, but with extended functionality. Array indices are properties, which is why they are enumerated in for-in loops.</p>\n<pre class="hljs"><code><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];\n\n<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) {\n  <span class="hljs-comment">// Would log 0, 1, 2</span>\n  <span class="hljs-built_in">console</span>.log(key);\n}\n</code></pre>\n<p>If you enter the above code into the console, it will log <code>0</code>, <code>1</code>, and <code>2</code>, which are the indices of the items in the array. So, what\'s the issue? Well, let\'s just say we wanted to include a polyfill in our script that implements some cool, new upcoming feature for arrays and that the method is called <code>coolMethod</code>. Here comes the issue, since a for-in loop enumerates over an object\'s properties, and includes the object\'s prototype chain in the enumeration, we would find that <code>coolMethod</code> would also be logged to the console along with the indices of the array.</p>\n<pre class="hljs"><code><span class="hljs-built_in">Array</span>.prototype.coolMethod = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{\n  <span class="hljs-comment">// coolMethod polyfill</span>\n};\n\n<span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];\n\n<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) {\n  <span class="hljs-comment">// Would log 0, 1, 2, \'coolMethod\'</span>\n  <span class="hljs-built_in">console</span>.log(key);\n}\n</code></pre>\n<p>You could technically get around this by using <code>Object.defineProperty</code> to define <code>coolMethod</code> as non-enumerable, but you can\'t ensure every library you\'re using will do this.</p>\n<p>Now, here\'s something that may blow your mind if you aren\'t familiar with the way JavaScript prototypes work. We don\'t even have to set <code>coolMethod</code> on <code>Array.prototype</code>. Since the prototype chain of an array leads back to <code>Object.prototype</code>, we can set <code>coolMethod</code> on <code>Object.prototype</code> and have it show up in the for-in enumeration of the array.</p>\n<pre class="hljs"><code><span class="hljs-built_in">Object</span>.prototype.coolMethod = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};\n\n<span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];\n\n<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> arr) {\n  <span class="hljs-comment">// Would log 0, 1, 2, \'coolMethod\'</span>\n  <span class="hljs-built_in">console</span>.log(key);\n}\n</code></pre>\n<h3 id="alternatives">Alternatives</h3>\n<p>Either use a for-loop, or even better, use the built-in Array methods such as <code>.forEach</code>, <code>.map</code>, <code>.filter</code> and <code>.reduce</code>. I personally like the Array methods since they\'re a lot cleaner looking. A while loop could also be used, and can not only be useful for iterating an array forwards, but also backwards. It\'s also possible to iterate an array backwards with a regular for-loop, but the syntax is a little bit cleaner with a while loop.</p>\n<pre class="hljs"><code><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];\n\n<span class="hljs-comment">// for loop</span>\n<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {\n  <span class="hljs-keyword">var</span> item = arr[i];\n}\n\n<span class="hljs-comment">// backwards iteration with a for loop</span>\n<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = arr.length; i &gt;= <span class="hljs-number">0</span>; i--) {\n  <span class="hljs-keyword">var</span> item = arr[i];\n}\n\n<span class="hljs-comment">// Backwards iteration with a while loop</span>\n<span class="hljs-keyword">var</span> i = arr.length;\n<span class="hljs-keyword">while</span> (i--) {\n  <span class="hljs-keyword">var</span> item = arr[i];\n}\n\narr.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{\n  <span class="hljs-built_in">console</span>.log(item);\n});\n\n<span class="hljs-keyword">var</span> newArr = arr.map(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{\n  <span class="hljs-keyword">return</span> item * <span class="hljs-number">2</span>;\n});\n<span class="hljs-built_in">console</span>.log(newArr); <span class="hljs-comment">// [2, 4, 6]</span>\n\n<span class="hljs-keyword">var</span> newArr = arr.filter(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{\n  <span class="hljs-keyword">return</span> item !== <span class="hljs-number">1</span>;\n});\n<span class="hljs-built_in">console</span>.log(newArr); <span class="hljs-comment">// [2, 3]</span>\n</code></pre>\n<p>Map and filter are useful because they reduce the boilerplate that you would have to set up with a for-loop or a while loop to accomplish the same task. You don\'t have to create a new array yourself, write an if statement to filter, or manually add or remove elements. For example, with filter you just pass a callback function that returns true for the elements you want to keep, and returns false for the elements of the array you want to remove. There\'s no need to create a new array, write an if statement for filtering, or manually adding to the new array with <code>.push</code>, it\'s all done in the background.</p>\n<h3 id="conclusion">Conclusion</h3>\n<p>I\'m sure there are even more reasons why for-in loops shouldn\'t be used for looping over arrays, but this is just a few I know. Just don\'t do it, leave the for-in loops for plain objects.</p>\n<h3 id="further-reading">Further Reading</h3>\n<p><a href="http://www.2ality.com/2012/12/arrays.html">2ality - Arrays</a></p>\n'}}],error:null,state:{projects:{codepen:[{title:"vue-scuffka",video:{url:"/_nuxt/videos/638279d.mp4"},thumbnail:{},icon:{xlinkHref:"icon-octocat"},fade:"white",href:"http://www.anthonykoch.com/vue-scuffka",meta:{},id:"cjng7t3tr0000amyq1bko5yp3"},{title:"Calculator",image:{url:"/_nuxt/img/b6306cd.png"},thumbnail:{},icon:{xlinkHref:t},fade:s,hash:"xVQOwb",href:"http://codepen.io/anthonykoch/pen/xVQOwb",meta:{likes:193},id:"cjng7t3tr0001amyqa1wlmvbj"},{title:"Settings Page",image:{url:"/_nuxt/img/40eeba4.png"},thumbnail:{},icon:{xlinkHref:t},fade:s,hash:"QjJaQv",href:"http://codepen.io/anthonykoch/pen/QjJaQv",meta:{likes:67},id:"cjng7t3tr0002amyq20td7x95"},{title:"Medium Image Loading",image:{url:"/_nuxt/img/481d2f0.png"},thumbnail:{},icon:{xlinkHref:t},fade:s,hash:"WrOQQz",href:"http://codepen.io/anthonykoch/pen/WrOQQz",meta:{likes:77},id:"cjng7t3tr0003amyq4zw9j2g9"},{title:"Smart Home UI",image:{url:"/_nuxt/img/ed77829.png"},thumbnail:{},icon:{xlinkHref:t},fade:s,hash:"GpQYrJ",href:"http://codepen.io/anthonykoch/pen/GpQYrJ",meta:{likes:37},id:"cjng7t3tr0004amyqlwadeoie"},{title:"Social Connect",image:{url:"/_nuxt/img/c9aeb13.png"},thumbnail:{},icon:{xlinkHref:t},fade:s,hash:"MaQBrd",href:"http://codepen.io/anthonykoch/pen/MaQBrd",meta:{likes:46},id:"cjng7t3tr0005amyqhozw2bx5"}]},posts:{postsById:{},meta:[{excerpt:{content:"<p>It's become a common pattern in the JavaScript world to use the <code>||</code> (called the &quot;logical or&quot;) operator for the purpose of setting a default value for a function argument. While it works quite well in most cases, but there are two cases where troubles may arise.</p>\n",loc:{start:0,end:291}},author:e,title:"OR operator gotcha",tags:["javascript","anti-patterns","operators"],id:9,skip:{section:"#the-gotcha"},created_at:"2018-08-29T00:00:00.000Z",humanized:{created_at:"August, 28 2018"},url:"/blog/or-operator-gotcha",slug:"or-operator-gotcha"},{excerpt:{content:"<p>To use <code>normalize.css</code> or to not use <code>normalize.css</code>. That is the question. I'll say that if you're supporting older browsers (especially IE), you should definitely be using it. However, before we get into why you should use it, let's go over what CSS resets are and how they differ from <code>normalize.css</code>.</p>\n",loc:{start:0,end:345}},author:e,title:"Use normalize css",tags:["css","normalize"],id:8,created_at:"2018-08-03T00:00:00.000Z",humanized:{created_at:"August, 2 2018"},url:"/blog/use-normalize-css",slug:"use-normalize-css"},{excerpt:{content:'<p>I rewrote my website and blog using <a href="https://nuxtjs.org/">nuxt.js</a>. The experience did not come without a bit of blood, sweat, and tears, but I\'m happy with the end result. This is not so much a tutorial as it is a reflection on the experience and why I did what I did.</p>\n',loc:{start:0,end:288}},author:e,title:"Just Nuxt Things",tags:["nuxt","vue","webpack"],id:7,created_at:"2018-07-29T00:00:00.000Z",humanized:{created_at:"July, 28 2018"},url:"/blog/just-nuxt-things",slug:"just-nuxt-things"},{excerpt:{content:"<p>Several months ago, I set out to get a deeper understanding of JavaScript, specifically in the area of prototypes. Prototypes were a fuzzy concept for me. I sort of knew how to use them, but didn't fully understand them. After a lot of study, I've started to see the picture of how prototypes work, and that they are not as complicated as I first thought.</p>\n",loc:{start:0,end:363}},author:e,title:"Understanding JavaScript Prototypes",tags:[o,"prototypes"],id:6,created_at:"2016-01-21T00:00:00.000Z",humanized:{created_at:"January, 20 2016"},url:"/blog/understanding-javascript-prototypes",slug:"understanding-javascript-prototypes"},{excerpt:{content:'<p>I was on the <a href="https://medium.com/">Medium</a> website and noticed a cool effect  they do when they lazy load their images. The image first appears blurry, and then slowly unblurs or fades out to reveal the actual image. I thought this was pretty cool, and wanted to see if I could achieve a similar effect.</p>\n',loc:{start:0,end:322}},author:e,title:u,tags:[n,y,f],id:5,created_at:g,humanized:{created_at:"January, 6 2016"},url:d,slug:"medium-style-images"},{excerpt:{content:m,loc:{start:0,end:308}},author:e,title:_,tags:[o,r],id:4,created_at:i,humanized:{created_at:c},url:h,slug:p},{excerpt:{content:"<p>After an hour of research, trial, and error, I finally figured out how to get Con Emu to remember directories for tabs using Git Bash. When I first started using Con Emu, I swear it used to do this by default, but I guess updates in Con Emu or the Git Bash shell broke this feature. Either way, I've found a solution that worked for me to get this feature back.</p>\n",loc:{start:0,end:369}},author:e,title:j,tags:[k,v],id:3,created_at:x,humanized:{created_at:"November, 14 2015"},url:b,slug:"remember-directories-in-con-emu"},{excerpt:{content:"<p>This is an overview of some of the development tools I've found useful, as well as some opinions and experiences I have had with them.</p>\n",loc:{start:0,end:142}},author:e,title:"The tools I use",tags:["development","tools"],id:2,created_at:"2015-08-21T00:00:00.000Z",humanized:{created_at:"August, 20 2015"},url:"/blog/the-tools-i-use",slug:"the-tools-i-use"},{excerpt:{content:"<p>ES2015, formerly called ES6, brings a lot of great features to JavaScript. A lot of the new features provide a much cleaner syntax for common tasks, and makes writing JavaScript so much better. After using these features for a while, I can't imagine going back to ES5. Here's an overview of my favorite features of ES2015.</p>\n",loc:{start:0,end:330}},author:e,title:"My favorite features of ES2015",tags:[o,"ES2015"],id:1,created_at:"2015-08-17T00:00:00.000Z",humanized:{created_at:"August, 16 2015"},url:"/blog/favorite-features-of-ES2015",slug:"favorite-features-of-ES2015"}]},navigation:{links:[{text:"work",href:z,active:z,scrollTo:"#work"},{text:"blog",href:"/blog",active:"/blog/"},{text:"contact",href:"/contact",active:"/contact/"}]},fullscreenImage:{isFullscreenImageShowing:!1,fullscreenImageSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",fullscreenImageAlt:""}},serverRendered:!0}}("Anthony Koch",0,"icon-codepen-outline","codepen","JavaScript","stackblur","arrays",0,"2015-12-03T00:00:00.000Z","December, 2 2015","/blog/why-you-shouldnt-loop-arrays-with-for-in","why-you-shouldnt-loop-arrays-with-for-in","/blog/medium-style-images","Medium style image loading","<p>I had a friend ask me why you shouldn't iterate over arrays with a for-in loop, since after all, when he tried it everything worked as expected. Well, the reasoning for why you shouldn't do this is not immediately apparent, especially if you do not understand how property lookup and prototypes work.</p>\n","medium","lazy loading",0,"2016-01-07T00:00:00.000Z","/blog/remember-directories-in-con-emu","Remember directories in Con Emu","con emu","command line",0,"2015-11-15T00:00:00.000Z","Why you shouldn't loop arrays with for-in",0,"/#work")</script><script src="/_nuxt/fb0edb8507785c3f920b.js" defer></script><script src="/_nuxt/e77860e6bbac41e8990e.js" defer></script><script src="/_nuxt/939af23866584e38578e.js" defer></script><script src="/_nuxt/618ef3dd2a507e0bd94f.js" defer></script><script src="/_nuxt/33e2ccdd4d1bd71f9ba2.js" defer></script>
  </body>
</html>
